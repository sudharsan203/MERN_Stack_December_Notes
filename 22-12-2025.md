# Training Notes - December 22, 2025

## Topics:
1. Map, Filter & ForEach in JavaScript
2. React Hooks (useState, useEffect)
3. Axios (REST API Calls)

---

# 1. Map, Filter & ForEach in JavaScript

## Sample Data:
```javascript
let mobiles = [
  { id: 1, brand: "Apple", model: "iPhone 13" },
  { id: 2, brand: "Samsung", model: "Galaxy S21" },
  { id: 3, brand: "Google", model: "Pixel 6" },
  { id: 4, brand: "OnePlus", model: "9 Pro" },
  { id: 5, brand: "Sony", model: "Xperia 1 III" }
];
```

---

## Array.map()

**Purpose:** Transform each item and return a NEW array.

**Syntax:**
```javascript
array.map((item, index) => { return transformedItem });
```

### Example 1 - Get All Brands:
```javascript
let brands = mobiles.map(mobile => mobile.brand);
console.log(brands);
// Output: ["Apple", "Samsung", "Google", "OnePlus", "Sony"]
```

### Example 2 - Get All Models:
```javascript
let models = mobiles.map(mobile => mobile.model);
console.log(models);
// Output: ["iPhone 13", "Galaxy S21", "Pixel 6", "9 Pro", "Xperia 1 III"]
```

### Example 3 - Create Full Names:
```javascript
let fullNames = mobiles.map(mobile => mobile.brand + " " + mobile.model);
console.log(fullNames);
// Output: ["Apple iPhone 13", "Samsung Galaxy S21", "Google Pixel 6", "OnePlus 9 Pro", "Sony Xperia 1 III"]
```

### Example 4 - Get Only IDs:
```javascript
let ids = mobiles.map(mobile => mobile.id);
console.log(ids);
// Output: [1, 2, 3, 4, 5]
```

### Example 5 - Create New Objects:
```javascript
let mobileInfo = mobiles.map(mobile => {
    return {
        name: mobile.brand + " " + mobile.model,
        mobileId: mobile.id
    };
});
console.log(mobileInfo);
// Output: [
//   { name: "Apple iPhone 13", mobileId: 1 },
//   { name: "Samsung Galaxy S21", mobileId: 2 },
//   { name: "Google Pixel 6", mobileId: 3 },
//   { name: "OnePlus 9 Pro", mobileId: 4 },
//   { name: "Sony Xperia 1 III", mobileId: 5 }
// ]
```

---

## Array.filter()

**Purpose:** Select items that pass a condition. Returns a NEW array.

**Syntax:**
```javascript
array.filter((item, index) => { return condition });
```

### Example 1 - Filter by Brand (Apple):
```javascript
let applePhones = mobiles.filter(mobile => mobile.brand === "Apple");
console.log(applePhones);
// Output: [{ id: 1, brand: "Apple", model: "iPhone 13" }]
```

### Example 2 - Filter by Brand (Samsung):
```javascript
let samsungPhones = mobiles.filter(mobile => mobile.brand === "Samsung");
console.log(samsungPhones);
// Output: [{ id: 2, brand: "Samsung", model: "Galaxy S21" }]
```

### Example 3 - Filter by ID (Greater than 2):
```javascript
let filteredById = mobiles.filter(mobile => mobile.id > 2);
console.log(filteredById);
// Output: [
//   { id: 3, brand: "Google", model: "Pixel 6" },
//   { id: 4, brand: "OnePlus", model: "9 Pro" },
//   { id: 5, brand: "Sony", model: "Xperia 1 III" }
// ]
```

### Example 4 - Filter Excluding a Brand:
```javascript
let notApple = mobiles.filter(mobile => mobile.brand !== "Apple");
console.log(notApple);
// Output: [
//   { id: 2, brand: "Samsung", model: "Galaxy S21" },
//   { id: 3, brand: "Google", model: "Pixel 6" },
//   { id: 4, brand: "OnePlus", model: "9 Pro" },
//   { id: 5, brand: "Sony", model: "Xperia 1 III" }
// ]
```

### Example 5 - Filter by Model Name Contains:
```javascript
let galaxyPhones = mobiles.filter(mobile => mobile.model.includes("Galaxy"));
console.log(galaxyPhones);
// Output: [{ id: 2, brand: "Samsung", model: "Galaxy S21" }]
```

---

## Array.forEach()

**Purpose:** Loop through items. Does NOT return anything.

**Syntax:**
```javascript
array.forEach((item, index) => { /* do something */ });
```

### Example 1 - Print All Brands:
```javascript
mobiles.forEach(mobile => {
    console.log(mobile.brand);
});
// Output:
// Apple
// Samsung
// Google
// OnePlus
// Sony
```

### Example 2 - Print Brand and Model:
```javascript
mobiles.forEach(mobile => {
    console.log(mobile.brand + " - " + mobile.model);
});
// Output:
// Apple - iPhone 13
// Samsung - Galaxy S21
// Google - Pixel 6
// OnePlus - 9 Pro
// Sony - Xperia 1 III
```

### Example 3 - Print with Index:
```javascript
mobiles.forEach((mobile, index) => {
    console.log((index + 1) + ". " + mobile.brand + " " + mobile.model);
});
// Output:
// 1. Apple iPhone 13
// 2. Samsung Galaxy S21
// 3. Google Pixel 6
// 4. OnePlus 9 Pro
// 5. Sony Xperia 1 III
```

### Example 4 - Add to External Array:
```javascript
let brandList = [];
mobiles.forEach(mobile => {
    brandList.push(mobile.brand);
});
console.log(brandList);
// Output: ["Apple", "Samsung", "Google", "OnePlus", "Sony"]
```

### Example 5 - Log ID and Brand:
```javascript
mobiles.forEach(mobile => {
    console.log("ID: " + mobile.id + ", Brand: " + mobile.brand);
});
// Output:
// ID: 1, Brand: Apple
// ID: 2, Brand: Samsung
// ID: 3, Brand: Google
// ID: 4, Brand: OnePlus
// ID: 5, Brand: Sony
```

---

## Quick Comparison

| Method | Returns | Use For |
|--------|---------|---------|
| `map()` | New array (same length) | Transform items |
| `filter()` | New array (can be shorter) | Select items |
| `forEach()` | Nothing (undefined) | Just loop |

---

## Combining map() and filter()

### Example - Get Brands of Mobiles with ID > 2:
```javascript
let result = mobiles
    .filter(mobile => mobile.id > 2)
    .map(mobile => mobile.brand);
console.log(result);
// Output: ["Google", "OnePlus", "Sony"]
```

### Example - Get Full Names Excluding Apple:
```javascript
let result = mobiles
    .filter(mobile => mobile.brand !== "Apple")
    .map(mobile => mobile.brand + " " + mobile.model);
console.log(result);
// Output: ["Samsung Galaxy S21", "Google Pixel 6", "OnePlus 9 Pro", "Sony Xperia 1 III"]
```

---

# 2. React Hooks

## What are React Hooks?
Hooks are special functions that let you use React features (like state and lifecycle) in functional components.

## Why Hooks?
- No need to write class components
- Simpler and cleaner code
- Reuse stateful logic between components

---

## useState Hook

**Purpose:** Add state (data that can change) to your component.

**Syntax:**
```javascript
const [state, setState] = useState(initialValue);
```

- `state` → Current value
- `setState` → Function to update the value
- `initialValue` → Starting value

### Example 1 - Simple Counter:
```javascript
import { useState } from 'react';

function Counter() {
    const [count, setCount] = useState(0);
    
    return (
        <div>
            <p>Count: {count}</p>
            <button onClick={() => setCount(count + 1)}>+1</button>
            <button onClick={() => setCount(count - 1)}>-1</button>
        </div>
    );
}
```

### Example 2 - Text Input:
```javascript
import { useState } from 'react';

function NameInput() {
    const [name, setName] = useState("");
    
    return (
        <div>
            <input 
                value={name}
                onChange={(e) => setName(e.target.value)}
                placeholder="Enter name"
            />
            <p>Hello, {name}!</p>
        </div>
    );
}
```

### Example 3 - Array State (Mobiles List):
```javascript
import { useState } from 'react';

function MobileList() {
    const [mobiles, setMobiles] = useState([
        { id: 1, brand: "Apple", model: "iPhone 13" },
        { id: 2, brand: "Samsung", model: "Galaxy S21" }
    ]);
    
    const addMobile = () => {
        const newMobile = { id: 3, brand: "Google", model: "Pixel 6" };
        setMobiles([...mobiles, newMobile]);
    };
    
    return (
        <div>
            <button onClick={addMobile}>Add Mobile</button>
            <ul>
                {mobiles.map(mobile => (
                    <li key={mobile.id}>{mobile.brand} - {mobile.model}</li>
                ))}
            </ul>
        </div>
    );
}
```

### Example 4 - Boolean State (Show/Hide):
```javascript
import { useState } from 'react';

function ToggleList() {
    const [showList, setShowList] = useState(false);
    
    return (
        <div>
            <button onClick={() => setShowList(!showList)}>
                {showList ? "Hide" : "Show"} List
            </button>
            {showList && (
                <ul>
                    <li>Apple iPhone 13</li>
                    <li>Samsung Galaxy S21</li>
                </ul>
            )}
        </div>
    );
}
```

### Example 5 - Object State:
```javascript
import { useState } from 'react';

function MobileForm() {
    const [mobile, setMobile] = useState({
        brand: "",
        model: ""
    });
    
    const updateBrand = (e) => {
        setMobile({ ...mobile, brand: e.target.value });
    };
    
    const updateModel = (e) => {
        setMobile({ ...mobile, model: e.target.value });
    };
    
    return (
        <div>
            <input placeholder="Brand" onChange={updateBrand} />
            <input placeholder="Model" onChange={updateModel} />
            <p>Mobile: {mobile.brand} {mobile.model}</p>
        </div>
    );
}
```

---

## useEffect Hook

**Purpose:** Run code after component renders (side effects like API calls, timers, etc.)

**Syntax:**
```javascript
useEffect(() => {
    // Code to run
}, [dependencies]);
```

### Dependency Array Rules:
| Dependency | When it Runs |
|------------|--------------|
| `[]` (empty) | Once when component loads |
| `[value]` | When `value` changes |
| No array | Every render |

### Example 1 - Run Once on Load:
```javascript
import { useEffect, useState } from 'react';

function MobileList() {
    const [mobiles, setMobiles] = useState([]);
    
    useEffect(() => {
        console.log("Component loaded!");
        // Fetch data here
    }, []); // Empty array = run once
    
    return <div>Mobile List</div>;
}
```

### Example 2 - Fetch Data on Load (API Call):
```javascript
import { useEffect, useState } from 'react';
import axios from 'axios';

function MobileList() {
    const [mobiles, setMobiles] = useState([]);
    
    useEffect(() => {
        axios.get('http://localhost:5000/mobileslist')
            .then(response => {
                setMobiles(response.data);
            })
            .catch(error => {
                console.error("Error:", error);
            });
    }, []); // Runs once when component mounts
    
    return (
        <ul>
            {mobiles.map(mobile => (
                <li key={mobile.id}>{mobile.brand} - {mobile.model}</li>
            ))}
        </ul>
    );
}
```

### Example 3 - Run When Value Changes:
```javascript
import { useEffect, useState } from 'react';

function Counter() {
    const [count, setCount] = useState(0);
    
    useEffect(() => {
        console.log("Count changed to: " + count);
    }, [count]); // Runs when count changes
    
    return (
        <div>
            <p>Count: {count}</p>
            <button onClick={() => setCount(count + 1)}>+1</button>
        </div>
    );
}
```

### Example 4 - Update Document Title:
```javascript
import { useEffect, useState } from 'react';

function MobileCounter() {
    const [mobiles, setMobiles] = useState([
        { id: 1, brand: "Apple", model: "iPhone 13" },
        { id: 2, brand: "Samsung", model: "Galaxy S21" }
    ]);
    
    useEffect(() => {
        document.title = mobiles.length + " Mobiles";
    }, [mobiles]); // Updates title when mobiles array changes
    
    return <p>Total Mobiles: {mobiles.length}</p>;
}
```

### Example 5 - Cleanup (Timer):
```javascript
import { useEffect, useState } from 'react';

function Timer() {
    const [seconds, setSeconds] = useState(0);
    
    useEffect(() => {
        const interval = setInterval(() => {
            setSeconds(s => s + 1);
        }, 1000);
        
        // Cleanup function - runs when component unmounts
        return () => {
            clearInterval(interval);
        };
    }, []);
    
    return <p>Seconds: {seconds}</p>;
}
```

---

## useState vs useEffect Summary

| Hook | Purpose | When to Use |
|------|---------|-------------|
| `useState` | Store and update data | Form inputs, lists, toggles, counters |
| `useEffect` | Run side effects | API calls, timers, document title, subscriptions |

---

## Complete Example - Mobiles with useState & useEffect

```javascript
import React, { useState, useEffect } from 'react';
import axios from 'axios';

function RestApis() {
    // State to store mobiles
    const [mobiles, setMobiles] = useState([]);
    const [loading, setLoading] = useState(true);
    
    // Fetch mobiles when component loads
    useEffect(() => {
        axios.get('http://localhost:5000/mobileslist')
            .then(response => {
                setMobiles(response.data);
                setLoading(false);
            })
            .catch(error => {
                console.error("Error:", error);
                setLoading(false);
            });
    }, []);
    
    // Show loading message
    if (loading) {
        return <p>Loading...</p>;
    }
    
    // Render mobiles list
    return (
        <div>
            <h1>Mobiles List ({mobiles.length})</h1>
            {mobiles.length > 0 ? (
                <ul>
                    {mobiles.map(mobile => (
                        <li key={mobile.id}>
                            {mobile.id} - {mobile.brand} - {mobile.model}
                        </li>
                    ))}
                </ul>
            ) : (
                <p>No mobiles available.</p>
            )}
        </div>
    );
}

export default RestApis;
```